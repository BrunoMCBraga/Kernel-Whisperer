# Kernel Whisperer

## What is it?

### Which events are being caught?


## Test environment
* Windows 7 Enterprise SP1 x64 (client + driver) + MySQL(Ver 14.14 Distrib 5.5.59) on Linux remnux 3.13.0-53-generic

## How to compile and run?
1. Disable Windows driver integrity check or enable test signatures. This depends on the operating system. Starting on Windows 7 x64 you need to sign the driver using a Certificate generated by you. For older versions, it is enough to disable integrity verification. Details of the process will be omitted.
2. Install:
  * WDK 7.1.0 (https://developer.microsoft.com/en-us/windows/hardware/windows-driver-kit)
  * Visual Studio or the developper tools
3. Compiling and deploying driver:
   1. Start->Windows Driver Kits->WDK [VERSION]->Build Environments->Windows 7->x64 Checked Build Environment
   2. Change directory to the folder where Kernel Whisperer is located
   3. Run CompileAndDeployDriver. This script will generate the certificate and save it on Driver->Staging. Once you generate the certificate you can comment the lines responsible for generating it.
4. Compiling and deploying client:
   1. Start->Microsoft Visual Studio [VS VERSION]->Visual Studio Tools->Developer Command Prompt for VS[VS VERSION]
   2. Same as before
   3. Run CompileAndDeployClient 


## Interaction with the database
I am not leveraging any API to interact with the database. I wanted Kernel Whisperer to be versatile so that i could switch to any type of database with a couple of adjustments. As such, i am leveraging a Python server that reads queries and executes them directly on the OS through the command line. 


## Ports, configurations and modules
* By default, the Python server runs on port 5000 and the client will interact with that same port. The port and IP address for the database can be changed on Client->lib->SQLDriver.

